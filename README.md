# Pinball Machine 
*Gabriella D'Alessio & Ellen Lynch*

## Table Of Contents
* [Planning](#Planning)
* [Timeline](#Timeline)
* [Purchased Parts](#Bill)
* [Key Components](#Components)
* [Weekly Check Ins](#Check-Ins)
* [Operating Intstructions](#Instructions)
* [Engineering Analysis](#Analysis)



## Planning

#### Introduction 
Gaby and I first came up with the idea to make a Pinball Machine last year at the end of Engineering 4 when we had completed our rocket and were looking for an exciting Capstone project. To begin planning, we made a slideshow with all our essential and nonessential requirements for our project and laid out our plans for how the machine should work and all the necessary steps beforehand. [Here's a link to the Pinball Slideshow](https://docs.google.com/presentation/d/1-0p-8omO62feyVH7SRMGAjvP5zyLEiNpoB7CkiigmQg/edit?usp=sharing). 

#### Inspiration 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3283.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3288.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3290.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3300.png" height="600">

We captured these images at Decades Arcade to gain valuable insights into the diverse features of pinball machines. While we understood that replicating every aspect might not be feasible, we aimed to incorporate our favorite elements from each machine. The spinning plate particularly stood out as uniquely captivating, inspiring us to integrate it into our own design.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3218.png" height="600">

This image highlights a fascinating mechanical aspect that caught our attention. The switches employed enable circuit completion with just slight pressureâ€”a feature we found particularly intriguing. In our final design, we opted to incorporate micro switches similar to these, inspired by their efficiency, functionality and ease of installation.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3220.png" height="600">

This image highlights another intriguing mechanical aspect that caught our eye. We set a goal to include a solenoid in our final design for its simplicity and ease of installation.

#### Drawn Diagrams 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5652.jpg" height="200"> 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5653.jpg" height="200">

We were faced with a decision between two base designs. The first option was a freestanding design, which would have provided a more cohesive and professional look. However, it required more materials and presented potential transportation issues. On the other hand, the tabletop design required less wood, resulting in cost savings. Ultimately, we opted for the tabletop design, especially since we already had a pinball base, making it the most practical choice.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5654.jpg" height="300">

To determine the features for our pinball machine, we sketched out three of our favorite designs and selected a standout feature from each. Ultimately, we settled on incorporating a pop bumper, a spinning plate, and originally considered including both targets and rollover buttons. However, due to significant procrastination and the need to revise our timeline, we decided to forgo the last two features. Additionally, although not depicted here, we also felt it was crucial to include a scoring system for the pop bumper, which involved a "simple" LCD connection.


#### Physical Models
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3519.png" height="600">

This cardboard and hot glue creation was inspired by the fundamental design principles of freestanding pinball machines, similar to the arcade setups found in Decades Arcade. While not our final choice, this design provided key insights into base design. We ultimately utilized a premade base from Ms. Gibson, which perfectly suited our needs for the finished product.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3517.png" height="600">

This meticulous planning phase aimed to identify our preferences and assess feasibility within a one-year timeframe. Our design encompassed a plethora of features including pop-bumpers, rails, triangle bumpers, rollover buttons, targets, and a spinning plate, although the latter proved to be overly cramped. Ultimately, due to self-imposed time constraints, we streamlined our selection to include a pop-bumper and a spinning plate.

#### Revised Plan

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5656.JPG" height="600">

After careful consideration, we finalized the design for our pinball machine. The features we incorporated include the pop bumper, spinning plate, flippers, shooter lane, plunger, and a panel of wood with added lights underneath to create a stunning reflection on our resin playfield and the table top base design. As an additional touch, we installed an LCD on top of the wood plank to elegantly display the score.


## Timeline 

***Initial***

September - October: Planning, weeding out ideas, narrowing our design

November - December: Doing code, making spinning plate, and installing it in our base

January: Wiring LCD, pouring resin playfield, spraypainting base black

February - March: Installing rollover buttons, printing and installing targets, installing a master power source

April: Finishing final aspects, making sure all code works when connected, testing and refinement

May: Final Touches, Presentation

***Revised Schedule***

September - October: Planning, weeding out ideas, narrowing our design

November - December: Doing code, making a spinning plate, and installing it in our base

January: Wiring LCD, pouring resin playfield, spraypainting base black

February - March: Not much progress on the project (huge mistake) 

April: Buying final parts, redoing spinning plate because it was stolen!!!

May: Rushing to do most of the physical project, troubleshooting wiring issues, assembling the full project


## Bill 
* Motor -> $12.99
* Resin Kit -> $12.99
* Pop Bumper Kit -> $60.00
* Spraypaint -> $8.39
* LEDS -> $5.55

Total= $99.93
*We were fortunate that all other materials either came from the lab or were readily available around both of our homes.*

## Components 

### Base & Playfield 

#### Materials ####
* Resin 
* Micah Powder
* Pre-Built Base
* Primer Paint
* Black Spray Paint
* Sand Paper
* Paint Brush
* Scrapers
* Spatula
* Mixing Cups
* Scale
* WD-40
* Drill
* Screws

#### Cad Design ####
No CAD components needed for this portion of the pinball machine. The pinball base was provided complete and the playfield consisted of resin pouring. 

#### Drawings ####
<img src=" " height="200">
This diagram outlined our plans for stylizing the exterior and key aspects of the machine.

#### How We Did It ####

*Play Field*
To start, we opted for a resin kit purchased from Amazon and dedicated time to researching the most effective techniques for resin pouring. This was uncharted territory for both of us, and we were eager to learn and apply our newfound knowledge.
<img src=" " height="200">

We used a scale to ensure equal parts of both the resin and the hardener, and then mixed in grey mica powder. We ended up using 80 grams of both the resin and hardener for the playing field alone.
<img src=" " height="200">

We applied the initial layer of grey resin and let it cure for a minimum of 48 hours.
<img src=" " height="200">

After applying the first coat, we applied a thicker clear coat to cover any uneven spots. We discovered that by using small spurts of WD-40 over the surface, the oils caused the resin to create an amazing moon-like design. This unexpected result led us to change our theme from terminator to the moon, as we found it to be more unique.
<img src=" " height="200">

We then sanded down the area near the shooter lane to ensure that the ball would smoothly roll onto the field without any resistance.
<img src=" " height="200">

*Base*

To start off, we applied a white primer paint to coat both the exterior and interior walls of the pinball machine. This step was taken before pouring the playfield to prevent any paint spillage. Following that, we covered the top of the pinball machine with tape and towels in preparation for the application of black spray paint.
<img src=" " height="200">
<img src=" " height="200">

We had to apply two or three coats of paint before achieving the desired level of opacity for the color.
<img src=" " height="200">

Simloutaniously throughtout this proccess we were prepping other parts of the pinball machine like the top board for the pinball machine. It was thanfully a perfect fit so all we had to do for preparation was spraypaint the wood black. 
<img src=" " height="200">

Once everything had dried, we installed metal guards at the back to enable the pinball machine to smoothly curve around its top.
<img src=" " height="200">

Then we secured the wood plank to the pinball machine using screws and a drill. Before installation, we attached the LED lights to the underside of the plank.
<img src=" " height="200">

Finally, we attached the wooden legs that came with the pinball machine using screws and a drill.
<img src=" " height="200">


#### Code & Wiring ####
No code was used for this portion of our final project.

#### Final Product ####
Overall the base and the playfeild were mainly stylistic and didnt require too much work. That being said we were able to gain new skills like how to use resin as neither of us had ever used it prior. It took around 2 months to entierly finish both of these aspects.
<img src=" " height="200">



### LCD
#### Materials ####
* Wire
* LCD
* Pico
* Breadboard
* Clay
* USB Cord
#### Cad Design ####
No CAD components needed for this portion of the pinball machine.
#### Drawings ####
#### How We Did It ####
#### Code & Wiring ####

*Code* 
``` python
import time  
import board 
import busio  
import digitalio
import displayio
 
from lcd.lcd import LCD, CursorMode
from lcd.i2c_pcf8574_interface import I2CPCF8574Interface

button = digitalio.DigitalInOut(board.GP16) #adds in the button
button.direction = digitalio.Direction.INPUT
button.pull = digitalio.Pull.UP #incorperates the button into the circuit


# Pin definitions

# I2C used for LCD Display
i2c_scl = board.GP11
i2c_sda = board.GP10
i2c_address = 0x27 # 39 decimal

# LCD display info
cols = 16
rows = 2

score = 0   #base value starts score at 0
oldbutton_state = 0

# Setup LCD display

i2c = busio.I2C(scl=i2c_scl, sda=i2c_sda)
interface = I2CPCF8574Interface(i2c, i2c_address)  #sets up lcd screen
lcd = LCD(interface, num_rows=rows, num_cols=cols)
lcd.set_cursor_mode(CursorMode.HIDE)

while True: #if the button is pressed this will happen
     if button.value == False: #if pressed
          if oldbutton_state == 0:
               score = score + 350 #each time the button is pushed the score increases by 350
               lcd.set_cursor_pos(0, 0)
               lcd.print(str(score)) #lcd shows new score
               oldbutton_state = 1 #button was pressed
     else:
          oldbutton_state = 0   #only changes when the button is pressedlcd.print ("word")

#sources
##https://www.penguintutor.com/electronics/pico-lcd
##https://learn.adafruit.com/character-lcds/python-circuitpython 
##https://learn.adafruit.com/i2c-spi-lcd-backpack/python-circuitpython 
##https://github.com/T-622/RPI-PICO-I2C-LCD 
```

LCD code was not the highlight of this project for me. This felt really complicated but to be honest starting out what took me the most time to get the LCD code going was simply finding the right libraries to download. I had never used an LCD code before and had no idea where to start out but I used several different websites online (linked in code) to get a feel for how the code needed to be organized and what each aspect did. I used an LCD backpack so the wiring was almost non-existent which was really nice for time, energy, and organization. Using the links I setup the libraries to the LCD and addressed everything so each part would be recognized and run smoothly between the code and LCD itself. Then I added in my code from the button because I need the points scored to show up on the display. To incorporate the points being added to the score on display, I made score a variable and set it to 0 when you start, I was able to then use an equation to make it so that each time the button was pressed, 350 points would be added to the score and stay there until added to again. 

*Wiring*


#### Final Product ####

### Spinning Plate
#### Materials ####
* Acrylic
* Laser Cutter
* Motor
* Clay
* E600
* Wire
* Batteries
* Battery Pack
* Soldering Iron
* Switch
#### Cad Design ####
#### Drawings ####
#### How We Did It ####
#### Code & Wiring ####
#### Final Product ####

### Pop Bumper 
#### Materials ####
* Pop Bumper Kit
* Power Source
* Micro Switches
* Metal Shears
* Wires
* LCD Setup
* Soldering Iron
* Drill
* Screws
  
#### Cad Design ####
We orignally used CAD to create a model of where to drill holes into the pinball machine which is shown below. In the end we went with a pre-bougght setup as we were struggling to create out own setup.
<img src=" " height="200">

#### Drawings ####
#### How We Did It ####
#### Code & Wiring ####
#### Final Product ####

### Flippers 
#### Materials ####
* Resin
* Micah Powder
* Molding Kit
* Drill
* 3D Printer
* Belt Sander
* Dremel
* Hot Glue
#### Cad Design ####
#### Drawings ####
#### How We Did It ####
#### Code & Wiring ####
No code was used for this portion of our final project.
#### Final Product ####

### Shooter Lane & Plunger 
#### Materials ####
* Sandpaper
* Bike Chain Grease
#### Cad Design ####
No CAD components needed for this portion of the pinball machine.
#### Drawings ####
#### How We Did It ####
#### Code & Wiring ####
No code was used for this portion of our final project.

#### Final Product ####


## Check-Ins 


## Instructions


## Analysis 




















### DO WE STILL NEED THIS?

``` python
import time #imports
import board
import digitalio

led1 = digitalio.DigitalInOut(board.GP15) #pins 
led1.direction = digitalio.Direction.OUTPUT
led2 = digitalio.DigitalInOut(board.GP17)
led2.direction = digitalio.Direction.OUTPUT
button = digitalio.DigitalInOut(board.GP16) #adds in the button
button.direction = digitalio.Direction.INPUT
button.pull = digitalio.Pull.UP #incorperates the button into the circuit

score = 0   #base value starts score at 0
oldbutton_state = 0


while True: #if the button is pressed this will happen
     if button.value == False: #if pressed
          if oldbutton_state == 0:
               score = score + 350 #each time the button is pushed the score increases by 350
               print(score)
               oldbutton_state = 1 #button was pressed
     else:
          oldbutton_state = 0   #only changes when the button is pressed
```

Every time the pinball rolls over the button, the score will increase by 350 points. I'm working on coding an LCD so that this score will be visible and updated on an LCD screen so people can see their points increase while playing. Buttons in general are pretty simple for code, this button is specifically functioning as the point route notches. Each time the pinball runs over them, pressing them down, the lcd screen will update your score by adding 350 points. 


There is now a little less than a month before we present our final project to UVA and our class. Gaby is working on wiring currently and we have been adding layers of spray paint to the outside of the pinball machine. I have been working on the drop shooters and need to use a solenoid as both of those are essential to our project being considered "complete." Not looking forward to presenting in front of everyone but we are working to finish and have an interesting project even if it is more simple than we may have hoped for. 









